"use strict";(self.webpackChunkatomixwap=self.webpackChunkatomixwap||[]).push([[186],{7186:(t,e,s)=>{s.r(e),s.d(e,{OptIn:()=>r});var n=s(2592),a=s(4050),i=s.n(a);class r{constructor(t,e,s){this.walletConnect=t,this.algodClient=e,this.ui=document.createElement("div"),this.suggestedParams,this.displayUI(),this.loadAssets(s)}displayUI(){this.ui.innerHTML='\n        <h4 id="claim-title">Opt-in assets</h4>\n        <div id="optin-list">Loading...</div>\n        '}async loadAssets(t){this.suggestedParams=await this.algodClient.getTransactionParams().do();let e=t.split(",");e=e.map((t=>parseInt(t.trim())));let s=0,a=[];const i=document.createElement("div"),r=this.ui.querySelector("#optin-list");r.textContent="",r.append(i);let l,o,d=0,c=0;for(const t of e){if(!t){console.error(new Error(`Error parsing asset ${t}`));continue}0===c&&(l=document.createElement("div"),l.className="mt-4 mb-1",i.append(l),o=o=document.createElement("div"),o.className="row text-center gx-2 gy-2 mb-3",l.append(o));const r=await this.algodClient.getAssetByID(t).do();let p="";try{await this.algodClient.accountAssetInformation(this.walletConnect.walletAddress,t).do(),p='<br><span class="opted-in"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">\n        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>\n      </svg> Already opted-in</span>'}catch(e){a.push(t),s++}const h=document.createElement("div");if(h.className="col-6 col-md-3",h.innerHTML=`<div class="h-100 nft-card"><img src="default.png" class="img-fluid" id="nft-${t}"><div class="nft-card-info"><strong>${r.params.name}</strong><br>\n      <small><a href="https://www.nftexplorer.app/asset/${t}" target="_blank">${t}</a></small>${p}</div></div>`,(0,n.g)(t,h.querySelector(`#nft-${t}`),400),o.append(h),c++,s>0&&(d===e.length-1||16===s)){const t=document.createElement("button");t.className="btn btn-generate",t.textContent="Opt-in "+(s>1?`(${s})`:""),t.dataset.assetIds=a.join(","),t.addEventListener("click",this.optin.bind(this),!1),l.append(t),s=0,a=[],c=0}d++}}async optin(t){const e=t.currentTarget;try{e.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n      Waiting for signatures...',e.disabled=!0;const s=t.currentTarget.dataset.assetIds.split(",");let n=[];for(const t of s){let e=i().makeAssetTransferTxnWithSuggestedParamsFromObject({from:this.walletConnect.walletAddress,to:this.walletConnect.walletAddress,amount:0,assetIndex:parseInt(t),suggestedParams:this.suggestedParams});n.push(e)}i().assignGroupID(n);const a=await this.walletConnect.signTransactions(n);e.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n      Sending transactions...',e.disabled=!0;try{const t=await this.algodClient.sendRawTransaction(a).do();e.innerHTML='<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>\n        Waiting for confirmation...',e.disabled=!0,await i().waitForConfirmation(this.algodClient,t.txId,4),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">\n        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>\n      </svg>\n        Opted-in',e.disabled=!0}catch(t){throw t}}catch(t){console.error(t),alert(t.message),e.textContent="Opt-in",e.disabled=!1}}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTg2LjIwMDA1ZjY5NTViZDhmZmE2YjQ3LmpzIiwibWFwcGluZ3MiOiJrS0FHTyxNQUFNQSxFQUNYQyxZQUFZQyxFQUFlQyxFQUFhQyxHQUN0Q0MsS0FBS0gsY0FBZ0JBLEVBQ3JCRyxLQUFLRixZQUFjQSxFQUVuQkUsS0FBS0MsR0FBS0MsU0FBU0MsY0FBYyxPQUNqQ0gsS0FBS0ksZ0JBRUxKLEtBQUtLLFlBQ0xMLEtBQUtNLFdBQVdQLEVBQ2xCLENBRUFNLFlBQ0VMLEtBQUtDLEdBQUdNLFVBQVksNEdBSXRCLENBRUFDLGlCQUFpQlQsR0FHZkMsS0FBS0ksc0JBQXdCSixLQUFLRixZQUFZVyx1QkFBdUJDLEtBS3JFLElBQUlDLEVBQVlaLEVBQU1hLE1BQU0sS0FDNUJELEVBQVlBLEVBQVVFLEtBQUtDLEdBQU1DLFNBQVNELEVBQUVFLFVBRTVDLElBQUlDLEVBQVUsRUFDVkMsRUFBVyxHQUVmLE1BQU1DLEVBQWFqQixTQUFTQyxjQUFjLE9BQ3BDaUIsRUFBT3BCLEtBQUtDLEdBQUdvQixjQUFjLGVBQ25DRCxFQUFLRSxZQUFjLEdBQ25CRixFQUFLRyxPQUFPSixHQUVaLElBR0lLLEVBQ0FDLEVBSkFDLEVBQUksRUFDSkMsRUFBYSxFQUtqQixJQUFLLE1BQU1DLEtBQVdqQixFQUFXLENBQy9CLElBQUtpQixFQUFTLENBQ1pDLFFBQVFDLE1BQU0sSUFBSUMsTUFBTSx1QkFBdUJILE1BQy9DLFFBQ0YsQ0FFbUIsSUFBZkQsSUFDRkgsRUFBV3RCLFNBQVNDLGNBQWMsT0FDbENxQixFQUFTUSxVQUFZLFlBQ3JCYixFQUFXSSxPQUFPQyxHQUVsQkMsRUFBV0EsRUFBV3ZCLFNBQVNDLGNBQWMsT0FDN0NzQixFQUFTTyxVQUFZLGlDQUNyQlIsRUFBU0QsT0FBT0UsSUFHbEIsTUFBTVEsUUFBb0JqQyxLQUFLRixZQUFZb0MsYUFBYU4sR0FBU2xCLEtBRWpFLElBQUl5QixFQUFXLEdBRWYsVUFDOEJuQyxLQUFLRixZQUM5QnNDLHdCQUF3QnBDLEtBQUtILGNBQWN3QyxjQUFlVCxHQUMxRGxCLEtBRUh5QixFQUFXLHVaQU9iLENBSkUsTUFBT0csR0FFUHBCLEVBQVNxQixLQUFLWCxHQUNkWCxHQUNGLENBRUEsTUFBTXVCLEVBQU10QyxTQUFTQyxjQUFjLE9BV25DLEdBVkFxQyxFQUFJUixVQUFZLGlCQUNoQlEsRUFBSWpDLFVBQVksZ0ZBQWdGcUIseUNBQStDSyxFQUFZUSxPQUFPQyw4RUFDOUdkLHNCQUE0QkEsZ0JBQXNCTyxpQkFFdEcsT0FBZVAsRUFBU1ksRUFBSW5CLGNBQWMsUUFBUU8sS0FBWSxLQUU5REgsRUFBU0YsT0FBT2lCLEdBRWhCYixJQUVJVixFQUFVLElBQU1TLElBQU1mLEVBQVVnQyxPQUFTLEdBakVqQyxLQWlFc0MxQixHQUFvQixDQUNwRSxNQUFNMkIsRUFBUzFDLFNBQVNDLGNBQWMsVUFDdEN5QyxFQUFPWixVQUFZLG1CQUVuQlksRUFBT3RCLFlBQWMsV0FBVUwsRUFBVSxFQUFJLElBQUlBLEtBQWEsSUFDOUQyQixFQUFPQyxRQUFRM0IsU0FBV0EsRUFBUzRCLEtBQUssS0FDeENGLEVBQU9HLGlCQUFpQixRQUFTL0MsS0FBS2dELE1BQU1DLEtBQUtqRCxPQUFPLEdBRXhEd0IsRUFBU0QsT0FBT3FCLEdBRWhCM0IsRUFBVSxFQUNWQyxFQUFXLEdBQ1hTLEVBQWEsQ0FDZixDQUVBRCxHQUNGLENBQ0YsQ0FFQWxCLFlBQVkwQyxHQUNWLE1BQU1DLEVBQWdCRCxFQUFNRSxjQUU1QixJQUNFRCxFQUFjNUMsVUFBWSwySEFFMUI0QyxFQUFjRSxVQUFXLEVBRXpCLE1BQU1uQyxFQUFXZ0MsRUFBTUUsY0FBY1AsUUFBUTNCLFNBQVNOLE1BQU0sS0FFNUQsSUFBSTBDLEVBQVksR0FJaEIsSUFBSyxNQUFNMUIsS0FBV1YsRUFBVSxDQUU5QixJQUFJcUMsRUFDRixzREFBMEQsQ0FDeERDLEtBQU14RCxLQUFLSCxjQUFjd0MsY0FDekJvQixHQUFJekQsS0FBS0gsY0FBY3dDLGNBQ3ZCcUIsT0FBUSxFQUNSQyxXQUFZNUMsU0FBU2EsR0FDckJ4QixnQkFBaUJKLEtBQUtJLGtCQUcxQmtELEVBQVVmLEtBQUtnQixFQUNqQixDQUVBLGtCQUFzQkQsR0FFdEIsTUFBTU0sUUFBbUI1RCxLQUFLSCxjQUFjZ0UsaUJBQWlCUCxHQUU3REgsRUFBYzVDLFVBQVkseUhBRTFCNEMsRUFBY0UsVUFBVyxFQUd6QixJQUNFLE1BQU1TLFFBQVc5RCxLQUFLRixZQUFZaUUsbUJBQW1CSCxHQUFZbEQsS0FFakV5QyxFQUFjNUMsVUFBWSwrSEFFMUI0QyxFQUFjRSxVQUFXLFFBR0Usd0JBQ3pCckQsS0FBS0YsWUFDTGdFLEVBQUdFLEtBQ0gsR0FHRmIsRUFBYzVDLFVBQVksdVhBSTFCNEMsRUFBY0UsVUFBVyxDQUczQixDQUZFLE1BQU9mLEdBQ1AsTUFBTUEsQ0FDUixDQU9GLENBTkUsTUFBT0EsR0FDUFQsUUFBUUMsTUFBTVEsR0FDZDJCLE1BQU0zQixFQUFJNEIsU0FFVmYsRUFBYzdCLFlBQWMsU0FDNUI2QixFQUFjRSxVQUFXLENBQzNCLENBQ0YsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2F0b21peHdhcC8uL3NyYy9vcHRpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBsb2FkQXNzZXRJbWFnZSB9IGZyb20gXCIuL2Fzc2V0LWRldGFpbHMuanNcIjtcbmltcG9ydCBhbGdvc2RrIGZyb20gXCJhbGdvc2RrXCI7XG5cbmV4cG9ydCBjbGFzcyBPcHRJbiB7XG4gIGNvbnN0cnVjdG9yKHdhbGxldENvbm5lY3QsIGFsZ29kQ2xpZW50LCBxdWVyeSkge1xuICAgIHRoaXMud2FsbGV0Q29ubmVjdCA9IHdhbGxldENvbm5lY3Q7XG4gICAgdGhpcy5hbGdvZENsaWVudCA9IGFsZ29kQ2xpZW50O1xuXG4gICAgdGhpcy51aSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdGhpcy5zdWdnZXN0ZWRQYXJhbXM7XG5cbiAgICB0aGlzLmRpc3BsYXlVSSgpO1xuICAgIHRoaXMubG9hZEFzc2V0cyhxdWVyeSk7XG4gIH1cblxuICBkaXNwbGF5VUkoKSB7XG4gICAgdGhpcy51aS5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxoNCBpZD1cImNsYWltLXRpdGxlXCI+T3B0LWluIGFzc2V0czwvaDQ+XG4gICAgICAgIDxkaXYgaWQ9XCJvcHRpbi1saXN0XCI+TG9hZGluZy4uLjwvZGl2PlxuICAgICAgICBgO1xuICB9XG5cbiAgYXN5bmMgbG9hZEFzc2V0cyhxdWVyeSkge1xuXG4gICAgLy9sb2FkIHBhcmFtcyBub3cgdG8gYXZvaWQgcG9wdXAgYmxvY2tpbmdcbiAgICB0aGlzLnN1Z2dlc3RlZFBhcmFtcyA9IGF3YWl0IHRoaXMuYWxnb2RDbGllbnQuZ2V0VHJhbnNhY3Rpb25QYXJhbXMoKS5kbygpO1xuXG4gICAgY29uc3QgbWF4VHggPSAxNjtcblxuICAgIC8vcGFyc2UgYXNzZXRzXG4gICAgbGV0IGFzc2V0c0lkcyA9IHF1ZXJ5LnNwbGl0KFwiLFwiKTtcbiAgICBhc3NldHNJZHMgPSBhc3NldHNJZHMubWFwKChhKSA9PiBwYXJzZUludChhLnRyaW0oKSkpO1xuXG4gICAgbGV0IHR4Q291bnQgPSAwO1xuICAgIGxldCBhc3NldElkcyA9IFtdO1xuXG4gICAgY29uc3QgY29udGVudERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgY29uc3QgbGlzdCA9IHRoaXMudWkucXVlcnlTZWxlY3RvcihcIiNvcHRpbi1saXN0XCIpO1xuICAgIGxpc3QudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGxpc3QuYXBwZW5kKGNvbnRlbnREaXYpO1xuXG4gICAgbGV0IGkgPSAwO1xuICAgIGxldCBibG9ja0NvdW50ID0gMDtcblxuICAgIGxldCBiYXRjaERpdjtcbiAgICBsZXQgYmF0Y2hSb3c7XG5cbiAgICBmb3IgKGNvbnN0IGFzc2V0SWQgb2YgYXNzZXRzSWRzKSB7XG4gICAgICBpZiAoIWFzc2V0SWQpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihuZXcgRXJyb3IoYEVycm9yIHBhcnNpbmcgYXNzZXQgJHthc3NldElkfWApKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChibG9ja0NvdW50ID09PSAwKSB7XG4gICAgICAgIGJhdGNoRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgYmF0Y2hEaXYuY2xhc3NOYW1lID0gXCJtdC00IG1iLTFcIjtcbiAgICAgICAgY29udGVudERpdi5hcHBlbmQoYmF0Y2hEaXYpO1xuXG4gICAgICAgIGJhdGNoUm93ID0gYmF0Y2hSb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBiYXRjaFJvdy5jbGFzc05hbWUgPSBcInJvdyB0ZXh0LWNlbnRlciBneC0yIGd5LTIgbWItM1wiO1xuICAgICAgICBiYXRjaERpdi5hcHBlbmQoYmF0Y2hSb3cpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHRBc3NldCA9IGF3YWl0IHRoaXMuYWxnb2RDbGllbnQuZ2V0QXNzZXRCeUlEKGFzc2V0SWQpLmRvKCk7XG5cbiAgICAgIGxldCBvcHRpblN0ciA9IFwiXCI7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdEJhbGFuY2UgPSBhd2FpdCB0aGlzLmFsZ29kQ2xpZW50XG4gICAgICAgICAgLmFjY291bnRBc3NldEluZm9ybWF0aW9uKHRoaXMud2FsbGV0Q29ubmVjdC53YWxsZXRBZGRyZXNzLCBhc3NldElkKVxuICAgICAgICAgIC5kbygpO1xuXG4gICAgICAgIG9wdGluU3RyID0gYDxicj48c3BhbiBjbGFzcz1cIm9wdGVkLWluXCI+PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGNsYXNzPVwiYmkgYmktY2hlY2stY2lyY2xlLWZpbGxcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICAgIDxwYXRoIGQ9XCJNMTYgOEE4IDggMCAxIDEgMCA4YTggOCAwIDAgMSAxNiAwem0tMy45Ny0zLjAzYS43NS43NSAwIDAgMC0xLjA4LjAyMkw3LjQ3NyA5LjQxNyA1LjM4NCA3LjMyM2EuNzUuNzUgMCAwIDAtMS4wNiAxLjA2TDYuOTcgMTEuMDNhLjc1Ljc1IDAgMCAwIDEuMDc5LS4wMmwzLjk5Mi00Ljk5YS43NS43NSAwIDAgMC0uMDEtMS4wNXpcIi8+XG4gICAgICA8L3N2Zz4gQWxyZWFkeSBvcHRlZC1pbjwvc3Bhbj5gO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vYXNzZXQgbm90IG9wdGVkLWluXG4gICAgICAgIGFzc2V0SWRzLnB1c2goYXNzZXRJZCk7XG4gICAgICAgIHR4Q291bnQrKztcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgIGNvbC5jbGFzc05hbWUgPSBcImNvbC02IGNvbC1tZC0zXCI7XG4gICAgICBjb2wuaW5uZXJIVE1MID0gYDxkaXYgY2xhc3M9XCJoLTEwMCBuZnQtY2FyZFwiPjxpbWcgc3JjPVwiZGVmYXVsdC5wbmdcIiBjbGFzcz1cImltZy1mbHVpZFwiIGlkPVwibmZ0LSR7YXNzZXRJZH1cIj48ZGl2IGNsYXNzPVwibmZ0LWNhcmQtaW5mb1wiPjxzdHJvbmc+JHtyZXN1bHRBc3NldC5wYXJhbXMubmFtZX08L3N0cm9uZz48YnI+XG4gICAgICA8c21hbGw+PGEgaHJlZj1cImh0dHBzOi8vd3d3Lm5mdGV4cGxvcmVyLmFwcC9hc3NldC8ke2Fzc2V0SWR9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+JHthc3NldElkfTwvYT48L3NtYWxsPiR7b3B0aW5TdHJ9PC9kaXY+PC9kaXY+YDtcblxuICAgICAgbG9hZEFzc2V0SW1hZ2UoYXNzZXRJZCwgY29sLnF1ZXJ5U2VsZWN0b3IoYCNuZnQtJHthc3NldElkfWApLCA0MDApO1xuXG4gICAgICBiYXRjaFJvdy5hcHBlbmQoY29sKTtcblxuICAgICAgYmxvY2tDb3VudCsrO1xuXG4gICAgICBpZiAodHhDb3VudCA+IDAgJiYgKGkgPT09IGFzc2V0c0lkcy5sZW5ndGggLSAxIHx8IHR4Q291bnQgPT09IG1heFR4KSkge1xuICAgICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gXCJidG4gYnRuLWdlbmVyYXRlXCI7XG5cbiAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gYE9wdC1pbiAke3R4Q291bnQgPiAxID8gYCgke3R4Q291bnR9KWAgOiBcIlwifWA7XG4gICAgICAgIGJ1dHRvbi5kYXRhc2V0LmFzc2V0SWRzID0gYXNzZXRJZHMuam9pbihcIixcIik7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5vcHRpbi5iaW5kKHRoaXMpLCBmYWxzZSk7XG5cbiAgICAgICAgYmF0Y2hEaXYuYXBwZW5kKGJ1dHRvbik7XG5cbiAgICAgICAgdHhDb3VudCA9IDA7XG4gICAgICAgIGFzc2V0SWRzID0gW107XG4gICAgICAgIGJsb2NrQ291bnQgPSAwO1xuICAgICAgfVxuXG4gICAgICBpKys7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgb3B0aW4oZXZlbnQpIHtcbiAgICBjb25zdCBjYWxsaW5nQnV0dG9uID0gZXZlbnQuY3VycmVudFRhcmdldDtcblxuICAgIHRyeSB7XG4gICAgICBjYWxsaW5nQnV0dG9uLmlubmVySFRNTCA9IGA8c3BhbiBjbGFzcz1cInNwaW5uZXItYm9yZGVyIHNwaW5uZXItYm9yZGVyLXNtXCIgcm9sZT1cInN0YXR1c1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvc3Bhbj5cbiAgICAgIFdhaXRpbmcgZm9yIHNpZ25hdHVyZXMuLi5gO1xuICAgICAgY2FsbGluZ0J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgIGNvbnN0IGFzc2V0SWRzID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmFzc2V0SWRzLnNwbGl0KFwiLFwiKTtcblxuICAgICAgbGV0IG9wdGluVHhucyA9IFtdO1xuXG4gICAgICBcblxuICAgICAgZm9yIChjb25zdCBhc3NldElkIG9mIGFzc2V0SWRzKSB7XG4gICAgICAgIC8vcHJlcGFyZSBvcHRpbiB0eG5cbiAgICAgICAgbGV0IG9wdGluVHhuID1cbiAgICAgICAgICBhbGdvc2RrLm1ha2VBc3NldFRyYW5zZmVyVHhuV2l0aFN1Z2dlc3RlZFBhcmFtc0Zyb21PYmplY3Qoe1xuICAgICAgICAgICAgZnJvbTogdGhpcy53YWxsZXRDb25uZWN0LndhbGxldEFkZHJlc3MsXG4gICAgICAgICAgICB0bzogdGhpcy53YWxsZXRDb25uZWN0LndhbGxldEFkZHJlc3MsXG4gICAgICAgICAgICBhbW91bnQ6IDAsXG4gICAgICAgICAgICBhc3NldEluZGV4OiBwYXJzZUludChhc3NldElkKSxcbiAgICAgICAgICAgIHN1Z2dlc3RlZFBhcmFtczogdGhpcy5zdWdnZXN0ZWRQYXJhbXMsXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgb3B0aW5UeG5zLnB1c2gob3B0aW5UeG4pO1xuICAgICAgfVxuXG4gICAgICBhbGdvc2RrLmFzc2lnbkdyb3VwSUQob3B0aW5UeG5zKTtcblxuICAgICAgY29uc3Qgc2lnbmVkVHhucyA9IGF3YWl0IHRoaXMud2FsbGV0Q29ubmVjdC5zaWduVHJhbnNhY3Rpb25zKG9wdGluVHhucyk7XG5cbiAgICAgIGNhbGxpbmdCdXR0b24uaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic3Bpbm5lci1ib3JkZXIgc3Bpbm5lci1ib3JkZXItc21cIiByb2xlPVwic3RhdHVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPlxuICAgICAgU2VuZGluZyB0cmFuc2FjdGlvbnMuLi5gO1xuICAgICAgY2FsbGluZ0J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG5cbiAgICAgIC8vc2VuZCB0eFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdHggPSBhd2FpdCB0aGlzLmFsZ29kQ2xpZW50LnNlbmRSYXdUcmFuc2FjdGlvbihzaWduZWRUeG5zKS5kbygpO1xuXG4gICAgICAgIGNhbGxpbmdCdXR0b24uaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwic3Bpbm5lci1ib3JkZXIgc3Bpbm5lci1ib3JkZXItc21cIiByb2xlPVwic3RhdHVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPlxuICAgICAgICBXYWl0aW5nIGZvciBjb25maXJtYXRpb24uLi5gO1xuICAgICAgICBjYWxsaW5nQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcblxuICAgICAgICAvLyBXYWl0IGZvciB0cmFuc2FjdGlvbiB0byBiZSBjb25maXJtZWRcbiAgICAgICAgY29uc3QgY29uZmlybWVkVHhuID0gYXdhaXQgYWxnb3Nkay53YWl0Rm9yQ29uZmlybWF0aW9uKFxuICAgICAgICAgIHRoaXMuYWxnb2RDbGllbnQsXG4gICAgICAgICAgdHgudHhJZCxcbiAgICAgICAgICA0XG4gICAgICAgICk7XG5cbiAgICAgICAgY2FsbGluZ0J1dHRvbi5pbm5lckhUTUwgPSBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIyNFwiIGhlaWdodD1cIjI0XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIGNsYXNzPVwiYmkgYmktY2hlY2stY2lyY2xlLWZpbGxcIiB2aWV3Qm94PVwiMCAwIDE2IDE2XCI+XG4gICAgICAgIDxwYXRoIGQ9XCJNMTYgOEE4IDggMCAxIDEgMCA4YTggOCAwIDAgMSAxNiAwem0tMy45Ny0zLjAzYS43NS43NSAwIDAgMC0xLjA4LjAyMkw3LjQ3NyA5LjQxNyA1LjM4NCA3LjMyM2EuNzUuNzUgMCAwIDAtMS4wNiAxLjA2TDYuOTcgMTEuMDNhLjc1Ljc1IDAgMCAwIDEuMDc5LS4wMmwzLjk5Mi00Ljk5YS43NS43NSAwIDAgMC0uMDEtMS4wNXpcIi8+XG4gICAgICA8L3N2Zz5cbiAgICAgICAgT3B0ZWQtaW5gO1xuICAgICAgICBjYWxsaW5nQnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICBhbGVydChlcnIubWVzc2FnZSk7XG5cbiAgICAgIGNhbGxpbmdCdXR0b24udGV4dENvbnRlbnQgPSBcIk9wdC1pblwiO1xuICAgICAgY2FsbGluZ0J1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxufVxuIl0sIm5hbWVzIjpbIk9wdEluIiwiY29uc3RydWN0b3IiLCJ3YWxsZXRDb25uZWN0IiwiYWxnb2RDbGllbnQiLCJxdWVyeSIsInRoaXMiLCJ1aSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN1Z2dlc3RlZFBhcmFtcyIsImRpc3BsYXlVSSIsImxvYWRBc3NldHMiLCJpbm5lckhUTUwiLCJhc3luYyIsImdldFRyYW5zYWN0aW9uUGFyYW1zIiwiZG8iLCJhc3NldHNJZHMiLCJzcGxpdCIsIm1hcCIsImEiLCJwYXJzZUludCIsInRyaW0iLCJ0eENvdW50IiwiYXNzZXRJZHMiLCJjb250ZW50RGl2IiwibGlzdCIsInF1ZXJ5U2VsZWN0b3IiLCJ0ZXh0Q29udGVudCIsImFwcGVuZCIsImJhdGNoRGl2IiwiYmF0Y2hSb3ciLCJpIiwiYmxvY2tDb3VudCIsImFzc2V0SWQiLCJjb25zb2xlIiwiZXJyb3IiLCJFcnJvciIsImNsYXNzTmFtZSIsInJlc3VsdEFzc2V0IiwiZ2V0QXNzZXRCeUlEIiwib3B0aW5TdHIiLCJhY2NvdW50QXNzZXRJbmZvcm1hdGlvbiIsIndhbGxldEFkZHJlc3MiLCJlcnIiLCJwdXNoIiwiY29sIiwicGFyYW1zIiwibmFtZSIsImxlbmd0aCIsImJ1dHRvbiIsImRhdGFzZXQiLCJqb2luIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9wdGluIiwiYmluZCIsImV2ZW50IiwiY2FsbGluZ0J1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJkaXNhYmxlZCIsIm9wdGluVHhucyIsIm9wdGluVHhuIiwiZnJvbSIsInRvIiwiYW1vdW50IiwiYXNzZXRJbmRleCIsInNpZ25lZFR4bnMiLCJzaWduVHJhbnNhY3Rpb25zIiwidHgiLCJzZW5kUmF3VHJhbnNhY3Rpb24iLCJ0eElkIiwiYWxlcnQiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==